<!--
  Generated template for the ManageEventsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    
      <ion-navbar color="nav">
        <ion-title>Manage Events</ion-title>
      </ion-navbar>
    
    </ion-header>
    <ion-content padding>
        <ion-card color="nav">
        <ion-card-title>  Upcoming Events</ion-card-title>
         <ion-card style="background-color: gray" *ngFor="let item of npevents; let i = index;" text-wrap>
            <ion-card-header style="font-weight: bold; color:white">{{item.description}}</ion-card-header>
            <ion-card-content>
            <p style="color:white">{{item.event_address}}</p> 
          <p style="color:white">{{item.start}} to {{item.end}}</p>
        </ion-card-content>
        
        <ion-item (click)="showVolunteers(item.id, i, false)" color="primary">
            <h2 style="color: white;"> Manage Volunteers</h2>
            </ion-item>
    
          <ion-card *ngIf="npevents[i].vol">
          <ion-card-content *ngFor="let vol of npevents[i].vol; let j = index"> 
              <ion-item color="nav">
                  <h2 style="font-weight: bold; color:white">{{vol.volunteer}}</h2>
                </ion-item>
            <ion-avatar>
            <img style="width: 20%" src={{vol.img}} />
          </ion-avatar>
          <p style="color:black">{{vol.description}}</p>
            <p style="color:black">{{vol.start}}</p>  
              <p style="color:black">{{vol.end}}</p>
            <ion-avatar item-left>
              <ion-icon (click)="removeVolunteer(vol, item.id, i)" style="float: right; font-size: 30px; color:red"  name="md-remove-circle"></ion-icon>
            </ion-avatar>   
            <br>
          </ion-card-content>  
          </ion-card>
        </ion-card>
        </ion-card>
      <!-- </ion-content>

    <ion-content padding> -->
        <ion-card color="nav">
        <ion-card-title>  Past Events</ion-card-title>
         <ion-card style="background-color: gray" *ngFor="let item of pastEvents; let i = index;" text-wrap>
            <ion-card-header style="font-weight: bold; color:white">{{item.description}}</ion-card-header>
            <ion-card-content>
            <p style="color:white">{{item.event_address}}</p> 
          <p style="color:white">{{item.event_start}} to {{item.event_end}}</p>
        </ion-card-content>
          <ion-item (click)="showVolunteers(item.id, i, true)" color="primary">
          <h2 style="color: white;"> Manage Volunteers</h2>
          </ion-item>
          <ion-card *ngIf="pastEvents[i].vol">
          <ion-card-content *ngFor="let vol of pastEvents[i].vol; let i = index" text-wrap> 
            <ion-item color="nav">
            <h2 style="font-weight: bold; color:white">{{vol.volunteer}}</h2>
          </ion-item>
            <ion-avatar>
            <img style="width: 20%" src={{vol.img}} />
          </ion-avatar>
            <p style="color:black">{{vol.description}}</p> 
            <p style="color:black">{{vol.start}}</p>  
            <p style="color:black">{{vol.end}}</p>  
            <ion-avatar item-left>
              <ion-icon (click)="volunteerAttended(vol, item.id, i)" style="float: right; font-size: 30px; color:red" name="md-checkmark-circle-outline"></ion-icon>
            </ion-avatar>          
            <br> 
          </ion-card-content>
        </ion-card>
        </ion-card>
        </ion-card>
      </ion-content>
        <ion-footer>
            <ion-toolbar color="nav">
              <button color="light" style="color: white; float: right;" (click)="logout()" ion-button outline item-start>Log out</button>
            </ion-toolbar>
          </ion-footer>
    <!-- </ion-content> -->